var $jscomp = { scope: {} }; $jscomp.defineProperty = "function" == typeof Object.defineProperties ? Object.defineProperty : function (t, e, r) { if (r.get || r.set) throw new TypeError("ES3 does not support getters and setters."); t != Array.prototype && t != Object.prototype && (t[e] = r.value) }, $jscomp.getGlobal = function (t) { return ("undefined" == typeof window || window !== t) && "undefined" != typeof global && null != global ? global : t }, $jscomp.global = $jscomp.getGlobal(this), $jscomp.SYMBOL_PREFIX = "jscomp_symbol_", $jscomp.initSymbol = function () { $jscomp.initSymbol = function () { }, $jscomp.global.Symbol || ($jscomp.global.Symbol = $jscomp.Symbol) }, $jscomp.symbolCounter_ = 0, $jscomp.Symbol = function (t) { return $jscomp.SYMBOL_PREFIX + (t || "") + $jscomp.symbolCounter_++ }, $jscomp.initSymbolIterator = function () { $jscomp.initSymbol(); var t = (t = $jscomp.global.Symbol.iterator) || ($jscomp.global.Symbol.iterator = $jscomp.global.Symbol("iterator")); "function" != typeof Array.prototype[t] && $jscomp.defineProperty(Array.prototype, t, { configurable: !0, writable: !0, value: function () { return $jscomp.arrayIterator(this) } }), $jscomp.initSymbolIterator = function () { } }, $jscomp.arrayIterator = function (t) { var e = 0; return $jscomp.iteratorPrototype(function () { return e < t.length ? { done: !1, value: t[e++] } : { done: !0 } }) }, $jscomp.iteratorPrototype = function (t) { return $jscomp.initSymbolIterator(), (t = { next: t })[$jscomp.global.Symbol.iterator] = function () { return this }, t }, $jscomp.array = $jscomp.array || {}, $jscomp.iteratorFromArray = function (e, r) { $jscomp.initSymbolIterator(), e instanceof String && (e += ""); var n = 0, i = { next: function () { if (n < e.length) { var t = n++; return { value: r(t, e[t]), done: !1 } } return i.next = function () { return { done: !0, value: void 0 } }, i.next() } }; return i[Symbol.iterator] = function () { return i }, i }, $jscomp.polyfill = function (t, e, r, n) { if (e) { for (r = $jscomp.global, t = t.split("."), n = 0; n < t.length - 1; n++) { var i = t[n]; i in r || (r[i] = {}), r = r[i] } (e = e(n = r[t = t[t.length - 1]])) != n && null != e && $jscomp.defineProperty(r, t, { configurable: !0, writable: !0, value: e }) } }, $jscomp.polyfill("Array.prototype.keys", function (t) { return t || function () { return $jscomp.iteratorFromArray(this, function (t) { return t }) } }, "es6-impl", "es3"); var $jscomp$this = this; !function (t, e) { "function" == typeof define && define.amd ? define([], e) : "object" == typeof module && module.exports ? module.exports = e() : t.anime = e() }(this, function () { function i(t) { if (!O.col(t)) try { return document.querySelectorAll(t) } catch (t) { } } function w(t, e) { for (var r, n = t.length, i = 2 <= arguments.length ? e : void 0, a = [], o = 0; o < n; o++)o in t && (r = t[o], e.call(i, r, o, t) && a.push(r)); return a } function c(t) { return t.reduce(function (t, e) { return t.concat(O.arr(e) ? c(e) : e) }, []) } function l(t) { return O.arr(t) ? t : (O.str(t) && (t = i(t) || t), t instanceof NodeList || t instanceof HTMLCollection ? [].slice.call(t) : [t]) } function a(t, e) { return t.some(function (t) { return t === e }) } function f(t) { var e, r = {}; for (e in t) r[e] = t[e]; return r } function h(t, e) { var r, n = f(t); for (r in t) n[r] = (e.hasOwnProperty(r) ? e : t)[r]; return n } function p(t, e) { var r, n = f(t); for (r in e) n[r] = (O.und(t[r]) ? e : t)[r]; return n } function u(t) { if (t = /([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t)) return t[2] } function d(t, e) { return O.fnc(t) ? t(e.target, e.id, e.total) : t } function j(t, e) { if (e in t.style) return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase()) || "0" } function m(t, e) { return O.dom(t) && a(S, e) ? "transform" : O.dom(t) && (t.getAttribute(e) || O.svg(t) && t[e]) ? "attribute" : O.dom(t) && "transform" !== e && j(t, e) ? "css" : null != t[e] ? "object" : void 0 } function g(t, e) { switch (m(t, e)) { case "transform": return function (t, r) { var e = -1 < (e = r).indexOf("translate") || "perspective" === e ? "px" : -1 < e.indexOf("rotate") || -1 < e.indexOf("skew") ? "deg" : void 0, e = -1 < r.indexOf("scale") ? 1 : 0 + e; if (!(t = t.style.transform)) return e; for (var n, i = [], a = [], o = /(\w+)\((.+?)\)/g; n = o.exec(t);)i.push(n[1]), a.push(n[2]); return (t = w(a, function (t, e) { return i[e] === r })).length ? t[0] : e }(t, e); case "css": return j(t, e); case "attribute": return t.getAttribute(e) }return t[e] || 0 } function y(t, e) { var r = /^(\*=|\+=|-=)/.exec(t); if (!r) return t; var n = u(t) || 0; switch (e = parseFloat(e), t = parseFloat(t.replace(r[0], "")), r[0][0]) { case "+": return e + t + n; case "-": return e - t + n; case "*": return e * t + n } } function o(t, e) { return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2)) } function r(t) { t = t.points; for (var e, r = 0, n = 0; n < t.numberOfItems; n++) { var i = t.getItem(n); 0 < n && (r += o(e, i)), e = i } return r } function s(t) { if (t.getTotalLength) return t.getTotalLength(); switch (t.tagName.toLowerCase()) { case "circle": return 2 * Math.PI * t.getAttribute("r"); case "rect": return 2 * t.getAttribute("width") + 2 * t.getAttribute("height"); case "line": return o({ x: t.getAttribute("x1"), y: t.getAttribute("y1") }, { x: t.getAttribute("x2"), y: t.getAttribute("y2") }); case "polyline": return r(t); case "polygon": var e = t.points; return r(t) + o(e.getItem(e.numberOfItems - 1), e.getItem(0)) } } function v(t, e) { var r, n, i = /-?\d*\.?\d+/g; return n = O.pth(t) ? t.totalLength : t, n = O.col(n) ? O.rgb(n) ? (r = /rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(n)) ? "rgba(" + r[1] + ",1)" : n : O.hex(n) ? function (t) { t = t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i, function (t, e, r, n) { return e + e + r + r + n + n }); var e = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t); return "rgba(" + (t = parseInt(e[1], 16)) + "," + parseInt(e[2], 16) + "," + (e = parseInt(e[3], 16)) + ",1)" }(n) : O.hsl(n) ? function (t) { function e(t, e, r) { return r < 0 && (r += 1), 1 < r && --r, r < 1 / 6 ? t + 6 * (e - t) * r : r < .5 ? e : r < 2 / 3 ? t + (e - t) * (2 / 3 - r) * 6 : t } var r = /hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t) || /hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t); t = parseInt(r[1]) / 360; var n, i, a = parseInt(r[2]) / 100, o = parseInt(r[3]) / 100, r = r[4] || 1; return 0 == a ? o = a = t = o : (o = e(i = 2 * o - (n = o < .5 ? o * (1 + a) : o + a - o * a), n, t + 1 / 3), a = e(i, n, t), t = e(i, n, t - 1 / 3)), "rgba(" + 255 * o + "," + 255 * a + "," + 255 * t + "," + r + ")" }(n) : void 0 : (r = (r = u(n)) ? n.substr(0, n.length - r.length) : n, e && !/\s/g.test(n) ? r + e : r), { original: n += "", numbers: n.match(i) ? n.match(i).map(Number) : [0], strings: O.str(t) || e ? n.split(i) : [] } } function b(t) { return w(t = t ? c(O.arr(t) ? t.map(l) : l(t)) : [], function (t, e, r) { return r.indexOf(t) === e }) } function x(a, o) { var s; return a.tweens.map(function (t) { var e = (t = function (t, e) { var r, n = {}; for (r in t) { var i = d(t[r], e); O.arr(i) && (1 === (i = i.map(function (t) { return d(t, e) })).length && (i = i[0])), n[r] = i } return n.duration = parseFloat(n.duration), n.delay = parseFloat(n.delay), n }(t, o)).value, r = g(o.target, a.name), n = s ? s.to.original : r, n = O.arr(e) ? e[0] : n, i = y(O.arr(e) ? e[1] : e, n), r = u(i) || u(n) || u(r); return t.from = v(n, r), t.to = v(i, r), t.start = s ? s.end : a.offset, t.end = t.start + t.delay + t.duration, t.easing = function (t) { return O.arr(t) ? C.apply(this, t) : k[t] }(t.easing), t.elasticity = (1e3 - Math.min(Math.max(t.elasticity, 1), 999)) / 1e3, t.isPath = O.pth(e), t.isColor = O.col(t.from.original), t.isColor && (t.round = 1), s = t }) } function P(e, t, r, n) { var i = "delay" === e; return t.length ? (i ? Math.min : Math.max).apply(Math, t.map(function (t) { return t[e] })) : i ? n.delay : r.offset + n.delay + n.duration } function n(t) { var e, r, n, i, a = h(M, t), o = h(I, t), n = (n = t.targets, (r = b(n)).map(function (t, e) { return { target: t, id: e, total: r.length } })), s = [], u = p(a, o); for (e in t) u.hasOwnProperty(e) || "targets" === e || s.push({ name: e, offset: u.offset, tweens: function (t, r) { var e, n = f(r); return O.arr(t) && (2 !== (e = t.length) || O.obj(t[0]) ? O.fnc(r.duration) || (n.duration = r.duration / e) : t = { value: t }), l(t).map(function (t, e) { return e = e ? 0 : r.delay, t = O.obj(t) && !O.pth(t) ? t : { value: t }, O.und(t.delay) && (t.delay = e), t }).map(function (t) { return p(t, n) }) }(t[e], o) }); return i = s, p(a, { children: [], animatables: n = n, animations: t = w(c(n.map(function (n) { return i.map(function (t) { var e, r = m(n.target, t.name); return t = r ? (e = x(t, n), { type: r, property: t.name, animatable: n, tweens: e, duration: e[e.length - 1].end, delay: e[0].delay }) : void 0 }) })), function (t) { return !O.und(t) }), duration: P("duration", t, a, o), delay: P("delay", t, a, o) }) } function $(t) { function l() { return window.Promise && new Promise(function (t) { return v = t }) } function f(t) { return x.reversed ? x.duration - t : t } function h(e) { for (var t = 0, r = {}, n = x.animations, i = n.length; t < i;) { var a = n[t], o = a.animatable, s = (u = a.tweens)[f = u.length - 1]; f && (s = w(u, function (t) { return e < t.end })[0] || s); for (var u = Math.min(Math.max(e - s.start - s.delay, 0), s.duration) / s.duration, c = isNaN(u) ? 1 : s.easing(u, s.elasticity), u = s.to.strings, l = s.round, f = [], h = void 0, h = s.to.numbers.length, p = 0; p < h; p++) { var d = void 0, d = s.to.numbers[p], m = s.from.numbers[p], d = s.isPath ? function (e, r) { function t(t) { return t = void 0 === t ? 0 : t, e.el.getPointAtLength(1 <= r + t ? r + t : 0) } var n = t(), i = t(-1), a = t(1); switch (e.property) { case "x": return n.x; case "y": return n.y; case "angle": return 180 * Math.atan2(a.y - i.y, a.x - i.x) / Math.PI } }(s.value, c * d) : m + c * (d - m); l && (s.isColor && 2 < p || (d = Math.round(d * l) / l)), f.push(d) } if (s = u.length) for (h = u[0], c = 0; c < s; c++)l = u[c + 1], p = f[c], isNaN(p) || (h = l ? h + (p + l) : h + (p + " ")); else h = f[0]; z[a.type](o.target, a.property, h, r, o.id), a.currentValue = h, t++ } if (t = Object.keys(r).length) for (n = 0; n < t; n++)A = A || (j(document.body, "transform") ? "transform" : "-webkit-transform"), x.animatables[n].target.style[A] = r[n].join(" "); x.currentTime = e, x.progress = e / x.duration * 100 } function p(t) { x[t] && x[t](x) } function d() { x.remaining && !0 !== x.remaining && x.remaining-- } function e(t) { var e = x.duration, r = x.offset, n = r + x.delay, i = x.currentTime, a = x.reversed, o = f(t); if (x.children.length) { var s = x.children, u = s.length; if (o >= x.currentTime) for (var c = 0; c < u; c++)s[c].seek(o); else for (; u--;)s[u].seek(o) } (n <= o || !e) && (x.began || (x.began = !0, p("begin")), p("run")), r < o && o < e ? h(o) : (o <= r && 0 !== i && (h(0), a && d()), (e <= o && i !== e || !e) && (h(e), a || d())), p("update"), e <= t && (x.remaining ? (g = m, "alternate" === x.direction && (x.reversed = !x.reversed)) : (x.pause(), x.completed || (x.completed = !0, p("complete"), "Promise" in window && (v(), b = l()))), y = 0) } t = void 0 === t ? {} : t; var m, g, y = 0, v = null, b = l(), x = n(t); return x.reset = function () { var t = x.direction, e = x.loop; for (x.currentTime = 0, x.progress = 0, x.paused = !0, x.began = !1, x.completed = !1, x.reversed = "reverse" === t, x.remaining = "alternate" === t && 1 === e ? 2 : e, h(0), t = x.children.length; t--;)x.children[t].reset() }, x.tick = function (t) { e((y + (m = t) - (g = g || m)) * $.speed) }, x.seek = function (t) { e(f(t)) }, x.pause = function () { var t = T.indexOf(x); -1 < t && T.splice(t, 1), x.paused = !0 }, x.play = function () { x.paused && (x.paused = !1, g = 0, y = f(x.currentTime), T.push(x), F || E()) }, x.reverse = function () { x.reversed = !x.reversed, g = 0, y = f(x.currentTime) }, x.restart = function () { x.pause(), x.reset(), x.play() }, x.finished = b, x.reset(), x.autoplay && x.play(), x } var A, M = { update: void 0, begin: void 0, run: void 0, complete: void 0, loop: 1, direction: "normal", autoplay: !0, offset: 0 }, I = { duration: 1e3, delay: 0, easing: "easeOutElastic", elasticity: 500, round: 0 }, S = "translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "), O = { arr: function (t) { return Array.isArray(t) }, obj: function (t) { return -1 < Object.prototype.toString.call(t).indexOf("Object") }, pth: function (t) { return O.obj(t) && t.hasOwnProperty("totalLength") }, svg: function (t) { return t instanceof SVGElement }, dom: function (t) { return t.nodeType || O.svg(t) }, str: function (t) { return "string" == typeof t }, fnc: function (t) { return "function" == typeof t }, und: function (t) { return void 0 === t }, hex: function (t) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t) }, rgb: function (t) { return /^rgb/.test(t) }, hsl: function (t) { return /^hsl/.test(t) }, col: function (t) { return O.hex(t) || O.rgb(t) || O.hsl(t) } }, C = function (o, s, u, c) { if (0 <= o && o <= 1 && 0 <= u && u <= 1) { var l = new Float32Array(11); if (o !== s || u !== c) for (var t = 0; t < 11; ++t)l[t] = N(.1 * t, o, u); return function (t) { if (o === s && u === c) return t; if (0 === t) return 0; if (1 === t) return 1; for (var e = 0, r = 1; 10 !== r && l[r] <= t; ++r)e += .1; var r = e + (t - l[--r]) / (l[r + 1] - l[r]) * .1, n = 3 * (1 - 3 * u + 3 * o) * r * r + 2 * (3 * u - 6 * o) * r + 3 * o; if (.001 <= n) { for (e = 0; e < 4 && 0 !== (n = 3 * (1 - 3 * u + 3 * o) * r * r + 2 * (3 * u - 6 * o) * r + 3 * o); ++e)var i = N(r, o, u) - t, r = r - i / n; t = r } else if (0 === n) t = r; else { for (var r = e, e = e + .1, a = 0; i = r + (e - r) / 2, n = N(i, o, u) - t, 0 < n ? e = i : r = i, 1e-7 < Math.abs(n) && ++a < 10;); t = i } return N(t, s, c) } } }, k = function () { function r(t, e) { return 0 === t || 1 === t ? t : -Math.pow(2, 10 * (t - 1)) * Math.sin(2 * (t - 1 - e / (2 * Math.PI) * Math.asin(1)) * Math.PI / e) } var t, n = "Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "), e = { In: [[.55, .085, .68, .53], [.55, .055, .675, .19], [.895, .03, .685, .22], [.755, .05, .855, .06], [.47, 0, .745, .715], [.95, .05, .795, .035], [.6, .04, .98, .335], [.6, -.28, .735, .045], r], Out: [[.25, .46, .45, .94], [.215, .61, .355, 1], [.165, .84, .44, 1], [.23, 1, .32, 1], [.39, .575, .565, 1], [.19, 1, .22, 1], [.075, .82, .165, 1], [.175, .885, .32, 1.275], function (t, e) { return 1 - r(1 - t, e) }], InOut: [[.455, .03, .515, .955], [.645, .045, .355, 1], [.77, 0, .175, 1], [.86, 0, .07, 1], [.445, .05, .55, .95], [1, 0, 0, 1], [.785, .135, .15, .86], [.68, -.55, .265, 1.55], function (t, e) { return t < .5 ? r(2 * t, e) / 2 : 1 - r(-2 * t + 2, e) / 2 }] }, i = { linear: C(.25, .25, .75, .75) }, a = {}; for (t in e) a.type = t, e[a.type].forEach(function (r) { return function (t, e) { i["ease" + r.type + n[e]] = O.fnc(t) ? t : C.apply($jscomp$this, t) } }(a)), a = { type: a.type }; return i }(), z = { css: function (t, e, r) { return t.style[e] = r }, attribute: function (t, e, r) { return t.setAttribute(e, r) }, object: function (t, e, r) { return t[e] = r }, transform: function (t, e, r, n, i) { n[i] || (n[i] = []), n[i].push(e + "(" + r + ")") } }, T = [], F = 0, E = L; function L() { F = requestAnimationFrame(t) } function t(t) { var e = T.length; if (e) { for (var r = 0; r < e;)T[r] && T[r].tick(t), r++; L() } else cancelAnimationFrame(F), F = 0 } function N(t, e, r) { return (((1 - 3 * r + 3 * e) * t + (3 * r - 6 * e)) * t + 3 * e) * t } return $.version = "2.2.0", $.speed = 1, $.running = T, $.remove = function (t) { t = b(t); for (var e = T.length; e--;)for (var r = T[e], n = r.animations, i = n.length; i--;)a(t, n[i].animatable.target) && (n.splice(i, 1), n.length || r.pause()) }, $.getValue = g, $.path = function (t, e) { var r = O.str(t) ? i(t)[0] : t, n = e || 100; return function (t) { return { el: r, property: t, totalLength: s(r) * (n / 100) } } }, $.setDashoffset = function (t) { var e = s(t); return t.setAttribute("stroke-dasharray", e), e }, $.bezier = C, $.easings = k, $.timeline = function (n) { var i = $(n); return i.pause(), i.duration = 0, i.add = function (t) { return i.children.forEach(function (t) { t.began = !0, t.completed = !0 }), l(t).forEach(function (t) { var e = p(t, h(I, n || {})); e.targets = e.targets || n.targets, t = i.duration; var r = e.offset; e.autoplay = !1, e.direction = i.direction, e.offset = O.und(r) ? t : y(r, t), i.began = !0, i.completed = !0, i.seek(e.offset), (e = $(e)).began = !0, e.completed = !0, e.duration > t && (i.duration = e.duration), i.children.push(e) }), i.seek(0), i.reset(), i.autoplay && i.restart(), i }, i }, $.random = function (t, e) { return Math.floor(Math.random() * (e - t + 1)) + t }, $ }), function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e(require("animejs")) : "function" == typeof define && define.amd ? define(["animejs"], e) : t.Particles = e(t.anime) }(this, function (r) { "use strict"; function t(t, e) { this.el = (t = t, i.str(t) ? document.querySelector(t) : t), this.options = o({ color: n(this.el, "background-color") }, this.defaults, e), this.init() } t.prototype = { defaults: { type: "circle", style: "fill", canvasPadding: 150, duration: 1e3, easing: "easeInOutCubic", direction: "left", size: function () { return Math.floor(3 * Math.random() + 1) }, speed: function () { return s(4) }, particlesAmountCoefficient: 3, oscillationCoefficient: 20 }, init: function () { this.particles = [], this.frame = null, this.canvas = document.createElement("canvas"), this.ctx = this.canvas.getContext("2d"), this.canvas.className = "particles-canvas", this.canvas.style = "display:none;", this.wrapper = document.createElement("div"), this.wrapper.className = "particles-wrapper", this.el.parentNode.insertBefore(this.wrapper, this.el), this.wrapper.appendChild(this.el), this.parentWrapper = document.createElement("div"), this.parentWrapper.className = "particles", this.wrapper.parentNode.insertBefore(this.parentWrapper, this.wrapper), this.parentWrapper.appendChild(this.wrapper), this.parentWrapper.appendChild(this.canvas) }, loop: function () { this.updateParticles(), this.renderParticles(), this.isAnimating() && (this.frame = requestAnimationFrame(this.loop.bind(this))) }, updateParticles: function () { for (var t, e = 0; e < this.particles.length; e++)(t = this.particles[e]).life > t.death ? this.particles.splice(e, 1) : (t.x += t.speed, t.y = this.o.oscillationCoefficient * Math.sin(t.counter * t.increase), t.life++, t.counter += this.disintegrating ? 1 : -1); this.particles.length || (this.pause(), this.canvas.style.display = "none", i.fnc(this.o.complete) && this.o.complete()) }, renderParticles: function () { var t; this.ctx.clearRect(0, 0, this.width, this.height); for (var e = 0; e < this.particles.length; e++)(t = this.particles[e]).life < t.death && (this.ctx.translate(t.startX, t.startY), this.ctx.rotate(t.angle * Math.PI / 180), this.ctx.globalAlpha = this.disintegrating ? 1 - t.life / t.death : t.life / t.death, this.ctx.fillStyle = this.ctx.strokeStyle = t.color, this.ctx.beginPath(), "circle" === this.o.type ? this.ctx.arc(t.x, t.y, t.size, 0, 2 * Math.PI) : "triangle" === this.o.type ? (this.ctx.moveTo(t.x, t.y), this.ctx.lineTo(t.x + t.size, t.y + t.size), this.ctx.lineTo(t.x + t.size, t.y - t.size)) : "rectangle" === this.o.type && this.ctx.rect(t.x, t.y, t.size, t.size), "fill" === this.o.style ? this.ctx.fill() : "stroke" === this.o.style && (this.ctx.closePath(), this.ctx.stroke()), this.ctx.globalAlpha = 1, this.ctx.rotate(-t.angle * Math.PI / 180), this.ctx.translate(-t.startX, -t.startY)) }, play: function () { this.frame = requestAnimationFrame(this.loop.bind(this)) }, pause: function () { cancelAnimationFrame(this.frame), this.frame = null }, addParticle: function (t) { var e = 60 * this.o.duration / 1e3, r = i.fnc(this.o.speed) ? this.o.speed() : this.o.speed, n = i.fnc(this.o.color) ? this.o.color() : this.o.color; this.particles.push({ startX: t.x, startY: t.y, x: this.disintegrating ? 0 : r * -e, y: 0, color: n, angle: s(360), counter: this.disintegrating ? 0 : e, increase: 2 * Math.PI / 100, life: 0, death: this.disintegrating ? e - 20 + 40 * Math.random() : e, speed: r, size: i.fnc(this.o.size) ? this.o.size() : this.o.size }) }, addParticles: function (t, e) { var r = this.disintegrating ? e - this.lastProgress : this.lastProgress - e; this.lastProgress = e; var n = this.options.canvasPadding, i = this.options.canvasPadding, e = (this.isHorizontal() ? t.width : t.height) * e + r * (this.disintegrating ? 100 : 220); this.isHorizontal() ? n += "left" === this.o.direction ? e : t.width - e : i += "top" === this.o.direction ? e : t.height - e; var a = Math.floor(this.o.particlesAmountCoefficient * (100 * r + 1)); if (0 < a) for (; a--;)this.addParticle({ x: n + (this.isHorizontal() ? 0 : t.width * Math.random()), y: i + (this.isHorizontal() ? t.height * Math.random() : 0) }); this.isAnimating() || (this.canvas.style.display = "block", this.play()) }, addTransforms: function (t) { var e = this.isHorizontal() ? "translateX" : "translateY", t = "left" === this.o.direction || "top" === this.o.direction ? t : -t; this.wrapper.style[a] = e + "(" + t + "%)", this.el.style[a] = e + "(" + -t + "%)" }, disintegrate: function (t) { var e; this.isAnimating() || (this.disintegrating = !0, this.lastProgress = 0, this.setup(t), (e = this).animate(function (t) { t = t.animatables[0].target.value; e.addTransforms(t), e.o.duration && e.addParticles(e.rect, t / 100, !0) })) }, integrate: function (t) { var r; this.isAnimating() || (this.disintegrating = !1, this.lastProgress = 1, this.setup(t), (r = this).animate(function (t) { var e = t.animatables[0].target.value; setTimeout(function () { r.addTransforms(e) }, r.o.duration), r.o.duration && r.addParticles(r.rect, e / 100, !0) })) }, setup: function (t) { this.o = o({}, this.options, t), this.wrapper.style.visibility = "visible", this.o.duration && (this.rect = this.el.getBoundingClientRect(), this.width = this.canvas.width = this.o.width || this.rect.width + 2 * this.o.canvasPadding, this.height = this.canvas.height = this.o.height || this.rect.height + 2 * this.o.canvasPadding) }, animate: function (t) { var e = this; r({ targets: { value: e.disintegrating ? 0 : 101 }, value: e.disintegrating ? 101 : 0, duration: e.o.duration, easing: e.o.easing, begin: e.o.begin, update: t, complete: function () { e.disintegrating && (e.wrapper.style.visibility = "hidden") } }) }, isAnimating: function () { return !!this.frame }, isHorizontal: function () { return "left" === this.o.direction || "right" === this.o.direction } }; var i = { arr: function (t) { return Array.isArray(t) }, str: function (t) { return "string" == typeof t }, fnc: function (t) { return "function" == typeof t } }; function n(t, e) { if (e in t.style) return getComputedStyle(t).getPropertyValue(e.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase()) || "0" } var e = "transform", a = n(document.body, e) ? e : "-webkit-" + e; function o(t) { t = t || {}; for (var e = 1; e < arguments.length; e++)!function (t, e) { for (var r in e) t[r] = i.arr(e[r]) ? e[r].slice(0) : e[r] }(t, arguments[e]); return t } function s(t) { return Math.random() * t - t / 2 } return t });